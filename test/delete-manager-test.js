// Generated by CoffeeScript 1.10.0
var DeleteManager, Nodes, SqlLiteral, Table, assert;

assert = require('chai').assert;

Table = require('../lib/table');

DeleteManager = require('../lib/delete-manager');

SqlLiteral = require('../lib/nodes/sql-literal');

Nodes = require('../lib/nodes/nodes');

describe('Delete manager', function() {
  describe('from', function() {
    it('uses from', function() {
      var dm, table;
      table = new Table('users');
      dm = new DeleteManager();
      dm.from(table);
      return assert.equal(dm.toSql(), 'DELETE FROM "users"');
    });
    return it('chains', function() {
      var dm, table;
      table = new Table('users');
      dm = new DeleteManager();
      return assert.equal(dm.from(table).constructor, DeleteManager);
    });
  });
  return describe('where', function() {
    it('uses where values', function() {
      var dm, table;
      table = new Table('users');
      dm = new DeleteManager();
      dm.from(table);
      dm.where(table.column('id').eq(10));
      return assert.equal(dm.toSql(), 'DELETE FROM "users" WHERE "users"."id" = 10');
    });
    return it('chains', function() {
      var dm, table;
      table = new Table('users');
      dm = new DeleteManager();
      return assert.equal(dm.where(table.column('id').eq(10)).constructor, DeleteManager);
    });
  });
});
